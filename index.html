<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="KAAP Commerce offers personalized, handcrafted gifts perfect for every occasion." />
  <meta name="keywords" content="handmade gifts, resin keychains, personalized gifts, KAAP Commerce" />
  <meta name="author" content="KAAP Commerce Team" />
  <meta name="google-site-verification" content="oMOoPCP2rVTdlil-FA-hmLcm2ZgeMgjXBdIepu9C0Gg" />
  <title>KAAP Commerce - Unique Handmade Gifts</title>
  <link rel="icon" href="images/favicon.ico" type="image/x-icon" />
  <!-- Google Fonts for a modern look -->
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@500;700&family=Roboto:wght@400;500&display=swap" rel="stylesheet">
  <style>
    :root {
      --pink: #ffd6ff;
      --lavender: #e7c6ff;
      --light-purple: #c8b6ff;
      --soft-blue: #b8c0ff;
      --pale-blue: #bbd0ff;
      --text-dark: #333;
      --highlight: #5e548e;
      --primary-gradient: linear-gradient(90deg, #c8b6ff 0%, #bbd0ff 100%);
      --shadow: 0 4px 16px rgba(94,84,142,0.12);
      --radius: 18px;
      --transition: 0.24s cubic-bezier(.4,0,.2,1);
    }
    * { box-sizing: border-box; }
    html { scroll-behavior: smooth; }
    body {
      margin: 0;
      font-family: 'Montserrat', 'Roboto', Arial, sans-serif;
      background: var(--pink);
      color: var(--text-dark);
      min-height: 100vh;
    }
    header {
      position: sticky;
      top: 0;
      background: var(--primary-gradient);
      padding: 12px 28px;
      z-index: 1000;
      box-shadow: var(--shadow);
      display: flex;
      align-items: center;
      justify-content: space-between;
      flex-wrap: wrap;
      border-bottom: 1.5px solid #e7c6ff;
      transition: background 0.4s;
    }
    .logo img { height: 54px; border-radius: 14px; }
    nav.nav-links {
      display: flex;
      align-items: center;
      gap: 18px;
      flex-wrap: wrap;
    }
    .nav-links a {
      text-decoration: none;
      color: var(--highlight);
      font-weight: 600;
      font-size: 1.08rem;
      padding: 5px 12px;
      border-radius: 8px;
      transition: background var(--transition), color var(--transition);
      position: relative;
    }
    .nav-links a:hover, .nav-links a:focus {
      color: #fff;
      background: var(--highlight);
      outline: none;
    }
    .nav-links #cartCount {
      font-weight: bold;
      color: #ff6f61;
      font-size: 1.04rem;
      margin-left: 10px;
      background: #fff8;
      padding: 4px 12px;
      border-radius: 16px;
      transition: background var(--transition);
    }
    /* Section Styles */
    section {
      padding: 54px 20px;
      animation: fadeIn 1.1s ease-in;
      margin-bottom: 0;
    }
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(30px);}
      to { opacity: 1; transform: translateY(0);}
    }
    .section-title {
      font-size: 2rem;
      color: var(--highlight);
      margin-bottom: 9px;
      text-align: center;
      font-weight: 700;
      letter-spacing: .5px;
    }
    .byline {
      font-size: 1.04rem;
      color: #666;
      text-align: center;
      margin-top: -6px;
      margin-bottom: 22px;
      font-style: italic;
      letter-spacing: .2px;
    }
    /* Stylish divider for sections */
    section:not(:first-child):before {
      content: "";
      display: block;
      margin: 0 auto 32px auto;
      width: 58px;
      height: 4px;
      border-radius: 2px;
      background: var(--primary-gradient);
      opacity: .28;
    }
    /* Landing Page Hero */
    #landing-page {
      min-height: 80vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      text-align: center;
      background: #fff;
      border-radius: var(--radius);
      margin-top: 28px;
      box-shadow: var(--shadow);
      padding: 40px 18px 48px 18px;
    }
    #landing-page h2 {
      font-size: 2.2rem;
      margin-bottom: 14px;
      color: var(--highlight);
      font-weight: 700;
      letter-spacing: 1px;
    }
    .shop-button {
      display: inline-block;
      margin-top: 28px;
      padding: 16px 36px;
      font-size: 1.1rem;
      background: var(--highlight);
      color: #fff;
      border: none;
      border-radius: 25px;
      font-weight: 600;
      letter-spacing: .5px;
      box-shadow: 0 2px 8px #5e548e15;
      cursor: pointer;
      transition: background var(--transition), transform var(--transition);
    }
    .shop-button:hover, .shop-button:focus {
      background: #ff6f61;
      transform: scale(1.06);
      outline: none;
    }
    /* Products Grid */
    .products-container {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
      gap: 26px;
      margin-top: 18px;
      margin-bottom: 10px;
      justify-items: center;
    }
    .product-card {
      background: #fff;
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      width: 100%;
      max-width: 320px;
      padding: 22px 16px 18px 16px;
      text-align: center;
      display: flex;
      flex-direction: column;
      align-items: center;
      transition: transform var(--transition), box-shadow var(--transition);
      position: relative;
      overflow: hidden;
      min-height: 340px;
    }
    .product-card::before {
      content: "";
      position: absolute;
      top: -60px; left: -60px;
      width: 120px; height: 120px;
      background: var(--primary-gradient);
      border-radius: 50%;
      opacity: .10;
      z-index: 0;
      pointer-events: none;
    }
    .product-card:hover, .product-card:focus-within {
      transform: translateY(-8px) scale(1.025);
      box-shadow: 0 8px 24px rgba(94,84,142,0.16);
      outline: none;
    }
    .product-card img {
      width: 95%;
      border-radius: 12px;
      margin-bottom: 16px;
      box-shadow: 0 2px 8px #b8c0ff28;
    }
    .product-card h3 {
      font-size: 1.15rem;
      color: var(--highlight);
      margin: 10px 0 7px 0;
      font-weight: 700;
    }
    .product-card p { margin: 2px 0 14px 0; font-size: 1.01rem; line-height: 1.45;}
    .product-card button {
      padding: 11px 20px;
      background: #25D366;
      color: #fff;
      border: none;
      border-radius: 9px;
      font-weight: bold;
      cursor: pointer;
      font-size: 1rem;
      transition: background var(--transition), box-shadow var(--transition);
      box-shadow: 0 2px 6px #25d3661b;
      z-index: 1;
    }
    .product-card button:focus {
      outline: 2px solid var(--highlight);
      background: #1ebd56;
    }
    .product-card button:disabled {
      background: #ccc;
      color: #888;
      cursor: default;
      box-shadow: none;
    }
    .product-card.coming-soon {
      opacity: 0.7;
      filter: grayscale(0.16);
      pointer-events: none;
    }
    /* Buy Now button */
    #buyNowBtn {
      display: none;
      margin: 28px auto 0 auto;
      background: var(--highlight);
      color: #fff;
      border: none;
      padding: 16px 36px;
      border-radius: 25px;
      font-size: 1.08rem;
      font-weight: 600;
      cursor: pointer;
      transition: background var(--transition), transform var(--transition);
      box-shadow: 0 2px 8px #5e548e25;
    }
    #buyNowBtn:hover, #buyNowBtn:focus {
      background: #ff6f61;
      transform: scale(1.04);
      outline: none;
    }
    /* Footer */
    footer {
      text-align: center;
      background: var(--primary-gradient);
      color: #444;
      padding: 26px 0 20px 0;
      font-size: 1rem;
      margin-top: 44px;
      border-top: 1.5px solid #e7c6ff;
      letter-spacing: .2px;
    }
    /* Popup Form */
    #popupForm {
      display: none;
      position: fixed;
      top: 0; left: 0;
      width: 100vw; height: 100vh;
      background: rgba(0,0,0,0.6);
      z-index: 10000;
      justify-content: center;
      align-items: center;
      animation: fadeIn .32s;
    }
    #interestForm {
      background: #fff;
      padding: 26px 22px 20px 22px;
      border-radius: var(--radius);
      max-width: 370px;
      width: 95%;
      box-shadow: var(--shadow);
      display: flex;
      flex-direction: column;
      gap: 10px;
      animation: fadeIn .4s;
    }
    #interestForm h3 { text-align: center; margin-bottom: 10px; color: var(--highlight);}
    #interestForm input {
      width: 100%;
      margin-bottom: 6px;
      padding: 10px 8px;
      border-radius: 6px;
      border: 1px solid #ddd;
      font-size: 1rem;
      font-family: inherit;
      background: #f8f8fd;
      transition: border var(--transition), box-shadow var(--transition);
    }
    #interestForm input:focus {
      outline: none;
      border: 1.5px solid var(--highlight);
      box-shadow: 0 0 6px #c8b6ff3a;
    }
    #interestForm button[type="submit"] {
      background: #25D366;
      color: #fff;
      border: none;
      padding: 13px;
      border-radius: 7px;
      font-weight: 600;
      font-size: 1.05rem;
      margin-top: 10px;
      cursor: pointer;
      transition: background var(--transition);
    }
    #interestForm button[type="submit"]:hover,
    #interestForm button[type="submit"]:focus {
      background: #1ebd56;
      outline: none;
    }
    #interestForm button#cancelBtn {
      background: #eee;
      color: #888;
      border: none;
      padding: 9px;
      border-radius: 7px;
      font-size: 1rem;
      cursor: pointer;
      transition: background var(--transition);
    }
    #interestForm button#cancelBtn:hover,
    #interestForm button#cancelBtn:focus {
      background: #ccc;
      color: #333;
      outline: none;
    }
    /* Loader for product fetch */
    .loader {
      border: 4px solid #f3f3f3;
      border-top: 4px solid var(--highlight);
      border-radius: 50%;
      width: 44px;
      height: 44px;
      animation: spin 1s linear infinite;
      margin: 40px auto 28px auto;
      display: block;
    }
    @keyframes spin {
      0% { transform: rotate(0deg);}
      100% { transform: rotate(360deg);}
    }
    /* Mobile Responsive */
    @media (max-width: 900px) {
      section { padding: 34px 12px;}
      .products-container { gap: 18px;}
      .product-card { min-height: 320px;}
    }
    @media (max-width: 600px) {
      header { flex-direction: column; align-items: flex-start; padding: 10px 8px;}
      .logo img { height: 44px;}
      nav.nav-links { width: 100%; gap: 10px; justify-content: flex-start;}
      #landing-page { padding: 24px 4px;}
      .products-container { grid-template-columns: 1fr; }
      .product-card { padding: 16px 7px 14px 7px; }
      #interestForm { padding: 16px 7px 14px 7px; }
    }
  </style>
</head>
<body>
<header>
  <div class="logo"><img src="images/kaap-logo.jpg" alt="KAAP Commerce Logo" /></div>
  <nav class="nav-links" aria-label="Main navigation">
    <a href="#landing-page">Home</a>
    <a href="#products">Products</a>
    <a href="#upcoming">Upcoming</a>
    <a href="#about">About</a>
    <a href="#vision">Vision</a>
    <span id="cartCount" aria-label="Shopping cart">🛒 (0)</span>
  </nav>
</header>

<main>
<section id="landing-page">
  <h2>Best for Buying Gifts for Your Loved Ones</h2>
  <p>Explore our unique handmade items that express love and thoughtfulness.</p>
  <a href="#products" class="shop-button" aria-label="Shop Now">Shop Now</a>
</section>

<section id="products">
  <h2 class="section-title">Featured Products</h2>
  <p class="byline">Handcrafted by Raj nandini & KAAP Commerce</p>
  <div class="products-container" id="productList">
    <span class="loader" id="productLoader"></span>
  </div>
  <button id="buyNowBtn" aria-label="Buy Now">Buy Now</button>
</section>

<section id="upcoming">
  <h2 class="section-title">Future Upcoming</h2>
  <p class="byline">Jewellery by Pravallika</p>
  <div class="products-container">
    <div class="product-card coming-soon" tabindex="0" aria-label="Upcoming Jewellery Collection">
      <img src="images/coming-soon.jpg" alt="Upcoming Jewellery Collection" />
      <h3>Coming Soon</h3>
      <p>Elegant handmade jewellery launching soon!</p>
    </div>
  </div>
</section>

<section id="about">
  <h2 class="section-title">About Us</h2>
  <p style="text-align:center; max-width:600px; margin:0 auto;">
    KAAP Commerce is a young, passionate brand providing unique, handcrafted gifts for all occasions.
  </p>
</section>

<section id="vision">
  <h2 class="section-title">Our Vision & Motto</h2>
  <p style="text-align:center; max-width:600px; margin:0 auto;">
    Our vision is to empower creativity and bring smiles through meaningful gifts.<br>
    <strong>Motto:</strong> “Create. Celebrate. Cherish.”
  </p>
</section>
</main>

<footer>
  &copy; 2025 KAAP Commerce. All rights reserved.
</footer>

<!-- Popup Form -->
<div id="popupForm" aria-modal="true" role="dialog">
  <form id="interestForm" autocomplete="on">
    <h3>Your Details</h3>
    <input type="text" id="custName" placeholder="Your Name" required aria-label="Your Name" />
    <input type="text" id="custAddress" placeholder="Your Address (end with 6-digit PIN)" required aria-label="Your Address" />
    <input type="email" id="custEmail" placeholder="Your Email" required aria-label="Your Email" />
    <input type="tel" id="custPhone" placeholder="WhatsApp Number" required aria-label="WhatsApp Number" />
    <button type="submit">Submit &amp; Go to WhatsApp</button>
    <button type="button" id="cancelBtn">Cancel</button>
  </form>
</div>

<script>
(() => {
  // DOM elements
  const container = document.getElementById("productList");
  const loader = document.getElementById("productLoader");
  const buyNowBtn = document.getElementById("buyNowBtn");
  const cartCount = document.getElementById("cartCount");
  const popupForm = document.getElementById("popupForm");
  const cancelBtn = document.getElementById("cancelBtn");
  const interestForm = document.getElementById("interestForm");

  let cart = [];

  // Product API
  const GOOGLE_SHEET_API_URL = "https://script.google.com/macros/s/AKfycbwnmidz7K_97QxeXAoMHKp0NMVbDWg0KQoLqtxk6wiAY4ldVGLWFxyIjhfRif9ItxtH/exec";

  // Accessibility: hide popup on start
  popupForm.style.display = "none";

  // Fetch products
  fetch(GOOGLE_SHEET_API_URL)
    .then(res => res.json())
    .then(products => {
      loader && loader.remove();
      if (!products.length) {
        container.innerHTML = "<p style='color:#e55b51'>No products available at the moment.</p>";
        return;
      }
      products.forEach((p, i) => {
        const card = document.createElement("div");
        card.className = "product-card";
        card.tabIndex = 0;
        card.innerHTML = `
          <img src="${p.image}" alt="${p.name}" />
          <h3>${p.name}</h3>
          <p>Price: <b>${p.price}</b></p>
          <button type="button" aria-label="Add ${p.name} to cart">Add to Cart</button>
        `;
        const button = card.querySelector("button");
        button.addEventListener("click", () => {
          cart.push({ id: p.id, name: p.name, price: p.price, image: p.image });
          buyNowBtn.style.display = "block";
          cartCount.innerText = `🛒 (${cart.length})`;
          button.innerText = "Added!";
          button.disabled = true;
        });
        container.appendChild(card);
      });
    })
    .catch(err => {
      loader && loader.remove();
      container.innerHTML = "<p style='color:#e55b51'>Failed to load products. Please try again later.</p>";
      console.error("Error fetching products:", err);
    });

  // Buy Now Button
  buyNowBtn.onclick = () => {
    if (cart.length === 0) return alert("Cart is empty!");
    popupForm.style.display = "flex";
    setTimeout(() => interestForm.querySelector("input").focus(), 180);
  };

  cancelBtn.onclick = () => {
    popupForm.style.display = "none";
  };

  // Form submission
  interestForm.onsubmit = (e) => {
    e.preventDefault();
    const name = document.getElementById("custName").value.trim();
    const address = document.getElementById("custAddress").value.trim();
    const email = document.getElementById("custEmail").value.trim();
    const phone = document.getElementById("custPhone").value.trim();

    const pinPattern = /\b\d{6}\b$/;
    if (!pinPattern.test(address)) {
      alert("Please enter a valid 6-digit PIN code at the end of your address.");
      return;
    }

    cart.forEach(item => {
      fetch("https://script.google.com/macros/s/AKfycbwTNnPO7YkA-QdA4uQBTAMsDgW0crnFGnK1L0xuyaPn2axoyV1O3gXkjPitXmJ4Z89_9A/exec", {
        method: "POST",
        mode: "no-cors",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ name, address, email, phone, productId: item.id, productName: item.name })
      });
    });

    const message = cart.map(p => `🆔 ${p.id}\n📦 ${p.name}\n💰 ${p.price}`).join('%0A%0A');
    const url = `https://wa.me/918977659800?text=Hello! I'm interested in these items:%0A%0A${message}`;
    window.location.href = url;

    popupForm.style.display = "none";
    interestForm.reset();
    cart = [];
    cartCount.innerText = `🛒 (0)`;
    buyNowBtn.style.display = "none";
  };

  // Keyboard accessibility for popup ESC close
  window.addEventListener("keydown", (e) => {
    if (popupForm.style.display === "flex" && e.key === "Escape") {
      popupForm.style.display = "none";
    }
  });
})();
</script>
</body>
</html>
